<html>
<head>
<link rel="manifest" href="manifest.json">
<script type="text/javascript">
var inlineApp = {
  init: function() {
    if (inlineApp.isSupported()) {
      navigator.serviceWorker.ready.then(inlineApp.serviceWorkerReady);
      navigator.serviceWorker.register("serviceworker.js");
    } else {
      alert("Sorry, your browser is not supported.");
    }
  },
  isSupported: function() {
    return navigator && navigator.serviceWorker;
  },
  serviceWorkerReady: function(registration) {
    console.log("------- registration -------");
    console.log(registration);
    if (registration && registration.pushManager) {
      registration.pushManager.getSubscription().then(handleSubscription);
    }
  },
  handleSubscription: function(subscription) {
    console.log("------- subscription -------");
    console.log(subscription);
  }
};
window.onload = inlineApp.init;
</script>
</head>
<body>
web push test is here.
</body>
</html>